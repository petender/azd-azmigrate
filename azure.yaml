# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: tdd-azd-azmigrate
metadata:
  template: tdd-azd-azmigrate@0.0.1-beta

# Infrastructure deployment configuration
infra:
  provider: bicep
  path: infra/bicep
  module: main

# Hooks for deployment lifecycle
hooks:
  postprovision:
    windows:
      shell: pwsh
      run: |
        Write-Host ""
        Write-Host "======================================"
        Write-Host "Azure Migrate Demo - Deployment Complete!"
        Write-Host "======================================"
        Write-Host ""
        Write-Host "Next Steps:" -ForegroundColor Yellow
        Write-Host "  1. Connect to Hyper-V host via Azure Bastion in the Azure Portal"
        Write-Host "  2. Copy the CreateActualVMs.ps1 script to the VM"
        Write-Host "  3. Run the script to create sample VMs"
        Write-Host "  4. Setup Azure Migrate appliance for discovery"
        Write-Host ""
        Write-Host "For detailed instructions, see:" -ForegroundColor Cyan
        Write-Host "  QUICKSTART.md or SCENARIOS.md"
        Write-Host ""
    posix:
      shell: sh
      run: |
        echo ""
        echo "======================================"
        echo "Azure Migrate Demo - Deployment Complete!"
        echo "======================================"
        echo ""
        echo "Next Steps:"
        echo "  1. Connect to Hyper-V host via Azure Bastion in the Azure Portal"
        echo "  2. Copy the CreateActualVMs.ps1 script to the VM"
        echo "  3. Run the script to create sample VMs"
        echo "  4. Setup Azure Migrate appliance for discovery"
        echo ""
        echo "For detailed instructions, see:"
        echo "  QUICKSTART.md or SCENARIOS.md"
        echo ""
